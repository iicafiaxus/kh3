<!DOCTYPE html>
<html>
<head>
<title>入力画面ヘルプ - 川の月</title>
<link rel="stylesheet" type="text/css" href="doc.css">
</head>
<body>
<div id=all>
<nav><a href="../index.html">川の月</a> : ヘルプ 
<a href="file.html">ファイル一覧</a> | <a href="edit.html">入力</a> | <a href="preview.html">プレビュー</a></nav>
<h1>川の月 入力画面の説明</h1>
<h2>基本的な使い方</h2>
<p>入力画面の入力欄に、タイトルとテキストを入力してください。</p>
<p class=img><img src="basic2-text.png"></p>
<p>「プレビュー」を押すと組版結果が表示されます。</p>
<p class=img><img src="basic2-result.png"></p>
<p>ごく基本的な文書であれば、ここまでの説明で終わりです。どうぞご活用ください。
<p class=note>「縦書き・横書き」「用紙サイズ」「段組み」などは、プレビュー画面の「ページ設定」で設定できます。</p>
<h3>特殊文字について</h3>
<p>半角の「アスタリスク」「中カッコ」「スラッシュ」は特殊文字です。
<p>これらの文字は、以下のように入力してください。</p>
<table class=sample>
<thead>
<tr><th>テキスト<th>組版結果</tr>
</thead>
<tbody>
<tr><td class=src>芥川龍之介（**1892 - †1927）は、日本の小説家である。<td rowspan=3><a href="escape-result.png"><img src="escape-result.png"></a></tr>
<tr><td class=src>3 × {(}2 × (5 - 3) + 4{)} = 24</tr>
<tr><td class=src>positive / negative</tr>
</tbody>
</table>
<p>アスタリスクは2個記載すると1個出力されます。中カッコは {(} が開き中カッコ、{)} が閉じ中カッコです。スラッシュは前後に空白を入れて下さい。
<h3>仕様修正について</h3>
<p>この説明書に記載されている仕様は追加・変更されることがあります。</p>
<p>仕様が大幅に変わる場合は、バージョンの切り替えなどにより後方互換性をとると思います。しかし確証はもてません。</p>
<p>改善は随時します。しかし、それにより例えば今まで1ページにおさまっていたものが微妙におさまらなくなる等、ケースによっては改善がかえって改悪となる場合もありえます。ご了承ください。</p>

<h2>詳細な使い方</h2>
<p>ヘルプ作成中です。</p>


<h2>コマンドの説明</h2>
<p>コマンドの文法や仕様について説明します。まだ組版見本が出そろっておらずすみません。順次、見本を追加していきます。</p>

<h3>ルビ</h3>
<p>以下の例のように記載します。半角の中カッコ、半角のイコール、半角のスペースを使用してください。</p>
<table class=sample>
<thead>
<tr><th>テキスト<th>組版結果</tr>
</thead>
<tbody>
<tr><td class=src rowspan=2>彼{=かれ}の功績{=こう せき}を賞賛{=しょう さん}する。<br><br>長崎県諫早市{=いさ はや し}を訪{=おとず}れ、法規遵守{=じゅん しゅ}の取り組みを視察した。現地では、新幹線{=しん かん せん}の建設の準備{=じゅん び}が進んでいた。
    <td><a href="ruby-yoko-result.png"><img src="ruby-yoko-result.png"></a></tr>
<tr>
</tbody>
</table>
<p>上の例のように、隣接する文字との間隔は適当に調整されます。ルビがかかっている単語の途中でも改行されることがあります。</p>


<h3>改行など</h3>
<p>テキストを改行すると、組版結果でも改行になります。テキストの空行は、組版結果でも空行になります。</p>
<p>改ページは {:page} です。</p>
<p>改段は {:column} です。なお、1段組の場合や、複数段組でもページ内の最終の段にいる場合は、{:page} と同じ効果になります。</p>
<table>
<thead>
<tr><th>テキスト<th>組版結果<th>説明</tr>
</thead>
<tbody>
<tr><td class=meta>改行<td class=meta>改行<td></tr>
<tr><td>{:column}<td class=meta>改段<td>1段組の場合は{:page}と同じ</tr>
<tr><td>{:page}<td class=meta>改ページ<td></tr>
</tbody>
</table>

<h3>フォント</h3>
<p>* で囲んだ部分は太字（和文はゴシック、欧文はボールド）になります。</p>
<p>/ を前置した文字はイタリックになります（英数字とギリシャ文字のみ有効）。</p>
<table class=sample>
<thead>
<tr><th>テキスト</tr>
</thead>
<tbody>
<tr><td class=src>*定義 1.3*<br>
　関数 /f(/x) が *一様連続（uniformly continuous）*であるとは、任意の正の数 /ε に対し、正の数 /δ であって<br>
　　　　　|/a - /b| &lt; /δ　ならば　|/f(/a) - /f(/b)| &lt; /ε<br>
をみたすものが存在することである。</tr>
<tr><td><a href="bolditalic-result.png"><img src="bolditalic-result.png"></a></tr>
</tbody>
</table>

<h3>ルビ</h3>
<table>
<thead>
<tr><th>テキスト<th>説明</tr>
</thead>
<tbody>
<tr><td class=src>日本語{=に ほん ご}<td>ルビです。</tr>
<tr><td class=src>{[飛鳥]あすか}<td>熟語ルビです。熟語ルビの途中では改行されません。</tr>
</tbody>
</table>

<h3>インデント</h3>
<p>デフォルトの字下げ量はページ設定で設定します。それを一時的に変更したい場合のコマンドです。</p>
<table>
<thead>
<tr><th>テキスト<th>説明</tr>
</thead>
<tbody>
<tr><td class=src>{>3}<td>現在位置を3字下げにします。主に段落の頭で使いますが、段落の途中でも使えます。「3」は例であり、数または変数が使えます。</tr>
<tr><td class=src>{>=A}<td>現在の位置を変数Aとして記憶します。「A」は例です。変数名は数字以外の文字を含まなければなりません。</tr>
<tr><td class=src>{>A}<td>変数Aに記憶された位置まで字下げします。「A」は例です。</tr>
<tr><td class=src>{>3:2}<td>現在位置を3字下げにして、左端は2字下げにします。「3」「2」は例であり、数または変数が使えます。</tr>
<tr><td class=src>{>3:2:1}<td>現在位置を3字下げにして、左端は2字下げ、右端は1字下げにします。「3」「2」「1」は例であり、数または変数が使えます。</tr>
<tr><td class=src>{<}<td>段落の頭で使います。{>0}と同じ意味になります。</tr>
<tr><td class=src>{:center}<td>センター揃えです。主に段落の頭で使いますが、段落の途中でも使えます。</tr>
<tr><td class=src>{:right}<td>右揃えです。主に段落の頭で使いますが、段落の途中でも使えます。</tr>
</tbody>
</table>

<h3>囲みなど</h3>
<table>
<thead>
<tr><th>テキスト<th>説明</tr>
</thead>
<tbody>
<tr><td class=src>{:ruled:1}<td>段落囲みを開始します。「1」は例で、線種を指定します。線種は1〜4があります。</tr>
<tr><td class=src>{:ruled:0}<td>段落囲みを終了します。{:ruled:0}を記載する行には{:ruled:0}だけを記載して下さい。</tr>
<tr><td class=src>{:ruled}<td>{:ruled:1}の略記です。</tr>
<tr><td class=src>{:u:1:4}<td>下線類を開始します。「1」は例で、線種を指定します。線種は1〜5があります。「4」は例で、下線の位置を指定します。1〜6があります。</tr>
<tr><td class=src>{:u:0}<td>下線類を終了します。</tr>
</tbody>
</table>

<h3>メタ変数</h3>
<p>仕様は変わるかもしれませんが現時点です。</p>
<table>
<thead>
<tr><th>テキスト<th>説明</tr>
</thead>
<tbody>
<tr><td class=src>$page<td>現在のページ番号に置き換えられます。</tr>
</tbody>
</table>

<h3>メタ変数</h3>
<p>仕様は変わるかもしれませんが現時点です。</p>
<table>
<thead>
<tr><th>テキスト<th>説明</tr>
</thead>
<tbody>
<tr><td class=src>{*a b}<td>「a b」は例です。この部分を1つの文字（単語）として扱います。</tr>
</tbody>
</table>

<h3>数式など</h3>
<p>{!}で区切ります。この文法は変わるかもしれませんが現時点ではこれです。</p>
<table>
<thead>
<tr><th>テキスト<th>説明</tr>
</thead>
<tbody>
<tr><td class=src>{!f}100{!}200{!}<td>分数です。</tr>
<tr><td class=src>{!rt}3{!}<td>根号です。</tr>
<tr><td class=src>{!(}/a + /b{!}<td>カッコです。中身の縦幅が大きいときは広がります。</tr>
<tr><td class=src>{!(+}/a + /b{!}<td>中カッコです。中身の縦幅が大きいときは広がります。</tr>
<tr><td class=src>/a{!index}/n{!}<td>下付きです。</tr>
<tr><td class=src>/a_/n<td>下付きの略記です。</tr>
<tr><td class=src>/a{!index:sup}/n{!}<td>上付きです。</tr>
<tr><td class=src>/a^/n<td>上付きの略記です。</tr>
</tbody>
</table>

<h2>諸注意</h2>

<h3>保存について</h3>
<p>オートセーブであり、1文字入力するごとにセーブしています。なお、Undo履歴はセーブしていません（Ctrl + Z でUndoできますが、これはブラウザの機能です）。</p>
<p>セーブ先はブラウザのストレージ（localStorage）です。あまり大きくないので5MB程度でいっぱいになります。保存するのは文字データのみなので、人間が執筆した文章を保存するのであれば普通は問題になりませんが、自動生成したテキストなどを保存するといっぱいになることがあるかもしれません。</p>
<p>ブラウザの管理画面からデータを消した場合には、保存されているテキストは消えてしまいます。また、ないと思いたいですが、プログラムのバグなどにより、データが消えてしまうこともあるかもしれません。大切なテキストはご自身の責任により、時々「エクスポート」で書き出しすることをおすすめします。（エクスポートされるのはtext形式なので、最悪「メモ帳」などで内容を見ることができます。）</p>

</div>
</body>
</html>